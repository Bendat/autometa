---
sidebar_position: 6
---

# Hooks

Autometa supports the following hooks: `Setup`, `Before`, `After`, `Teardown`.

`Setup` will be run before any scenarios. `Teardown` will be run after all
scenarios.

`Before` will run before _each_ scenario, and `After` runs after _each_ scenario.
Both `Before` and `After` recieve a copy of the [App](./app) if it's defined.

The `App` argument in `Before` and `Each` will be the same as the one used
by the `Scenario` that triggered them.

```ts
import { Setup, Before, After, Teardown } from "@autometa/cucumber-runner";

Setup(() => console.log("setting up"));
// optional description (applies to all hooks)
Setup("Set up the foo data", () => console.log("setting up"));

Before(async ({ apiClient }: App) => {
  await apiClient.setupTestData();
});

After(async ({ apiClient }: App) => {
  await apiClient.cleanupTestData();
});

TearDown(() => console.log("exiting"));
```

Like Steps, Hooks can be scoped. If a Hook is defined inside a `Feature` callback,
it will only execute before tests in that feature. If a rule, only tests in that rule.
If a scenario outline, only the scenarios generated by that outline etc.

```ts
Feature(() => {
  Before("run only for these tests", () => {});
}, "./my-feature.ts");
```
