"use strict";(self.webpackChunkautometa=self.webpackChunkautometa||[]).push([[328],{9613:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>k});var a=n(9496);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},m=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,p=e.parentName,m=r(e,["components","mdxType","originalType","parentName"]),c=s(n),u=i,k=c["".concat(p,".").concat(u)]||c[u]||d[u]||o;return n?a.createElement(k,l(l({ref:t},m),{},{components:n})):a.createElement(k,l({ref:t},m))}));function k(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,l=new Array(o);l[0]=u;var r={};for(var p in t)hasOwnProperty.call(t,p)&&(r[p]=t[p]);r.originalType=e,r[c]="string"==typeof e?e:i,l[1]=r;for(var s=2;s<o;s++)l[s]=n[s];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},4799:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>p,default:()=>d,frontMatter:()=>r,metadata:()=>s,toc:()=>m});var a=n(5882),i=n(950),o=(n(9496),n(9613)),l=["components"],r={},p="Components",s={unversionedId:"ui-testing/page-component-model/components",id:"ui-testing/page-component-model/components",title:"Components",description:"At the heart of this library are Components. Components are an alternative to WebElements",source:"@site/docs/2_ui-testing/1_page-component-model/3_components.md",sourceDirName:"2_ui-testing/1_page-component-model",slug:"/ui-testing/page-component-model/components",permalink:"/autometa/docs/ui-testing/page-component-model/components",editUrl:"https://github.com/Bendat/autometa/docs/2_ui-testing/1_page-component-model/3_components.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Pages",permalink:"/autometa/docs/ui-testing/page-component-model/pages"},next:{title:"Building Your Own Components",permalink:"/autometa/docs/ui-testing/page-component-model/creating-components"}},m=[{value:"Element",id:"element",children:[],level:2},{value:"Collections and Containers",id:"collections-and-containers",children:[],level:2},{value:"Exposing Behavior",id:"exposing-behavior",children:[],level:2},{value:"Semantic Components",id:"semantic-components",children:[{value:"Anchor",id:"anchor",children:[],level:3},{value:"Button",id:"button",children:[],level:3},{value:"Image",id:"image",children:[],level:3}],level:2},{value:"UnorderedList, OrderedList",id:"unorderedlist-orderedlist",children:[],level:2},{value:"ListItem",id:"listitem",children:[],level:2},{value:"Select",id:"select",children:[],level:2},{value:"Option",id:"option",children:[],level:2}],c={toc:m};function d(e){var t=e.components,n=(0,i.Z)(e,l);return(0,o.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"components"},"Components"),(0,o.kt)("p",null,"At the heart of this library are ",(0,o.kt)("inlineCode",{parentName:"p"},"Component"),"s. Components are an alternative to ",(0,o.kt)("inlineCode",{parentName:"p"},"WebElements"),"\nand which hide or expose behaviors of a WebElement to express ",(0,o.kt)("strong",{parentName:"p"},"intent"),"."),(0,o.kt)("p",null,"The base class for a Component is ",(0,o.kt)("inlineCode",{parentName:"p"},"Component"),". A ",(0,o.kt)("inlineCode",{parentName:"p"},"Component")," resembles a ",(0,o.kt)("inlineCode",{parentName:"p"},"WebElement")," but hides\nactions which are not applicable to all elements. ",(0,o.kt)("inlineCode",{parentName:"p"},"Component")," is an abstract class and cannot\nbe instantiated directly."),(0,o.kt)("p",null,"There are a number of semantic components provided by default."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"Text")," and its semantic versions ",(0,o.kt)("inlineCode",{parentName:"p"},"Paragraph"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"Heading1")," etc. expose the ",(0,o.kt)("inlineCode",{parentName:"p"},"getText")," method\nas the property ",(0,o.kt)("inlineCode",{parentName:"p"},"text"),", but does not expose ",(0,o.kt)("inlineCode",{parentName:"p"},"click"),", because a ",(0,o.kt)("inlineCode",{parentName:"p"},"<p>")," tag is not typically regarded\nas clickable. If ",(0,o.kt)("em",{parentName:"p"},"your")," ",(0,o.kt)("inlineCode",{parentName:"p"},"<p>")," tags have clicking behavior, you are encouraged to ",(0,o.kt)("a",{parentName:"p",href:"creating-components"},"build your own"),"\nsemantic components. This way you show the intent of your web page, not just the elements it contains."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title='my-page.ts'",title:"'my-page.ts'"},"export class MyPage {\n  @component(By.id('my-id'))\n  intro: Paragraph;\n}\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title='my-page.test.ts'",title:"'my-page.test.ts'"},"const text = await myPage.intro.text;\nawait myPage.intro.click(); // tsc error, 'click' is not a property of Paragraph\n")),(0,o.kt)("p",null,"A ",(0,o.kt)("inlineCode",{parentName:"p"},"Button")," meanwhile exposes both ",(0,o.kt)("inlineCode",{parentName:"p"},"text")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"click")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title='my-page.ts'",title:"'my-page.ts'"},"export class MyPage {\n  @component(By.id('my-id'))\n  addToCart: Button;\n}\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title='my-page.test.ts'",title:"'my-page.test.ts'"},"const text = await myPage.addToCart.text;\nawait myPage.addToCart.click();\nconst newText = await myPage.addToCart.text;\nexpect(newText).toBe(`${text}(1)`);\n")),(0,o.kt)("h2",{id:"element"},"Element"),(0,o.kt)("p",null,"By default the ",(0,o.kt)("inlineCode",{parentName:"p"},"Element")," Component is also provided. This Component exposes all underlying behavior of WebElements\nand may be regarded as a direct replacement for ",(0,o.kt)("inlineCode",{parentName:"p"},"WebElement"),"."),(0,o.kt)("p",null,"To stick with a more familiar pattern, use this in place of semantic components. In future direct support\nfor true web elements is intended (through the ",(0,o.kt)("inlineCode",{parentName:"p"},"LazyWebElement")," pattern)."),(0,o.kt)("h2",{id:"collections-and-containers"},"Collections and Containers"),(0,o.kt)("p",null,"Collections and Containers are both components which deal with groups of Components that relate to each other.\nCollections act as a list of Components, while containers represent components with multiple collections inside\nthem."),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"collections-containers"},"Read more about collections and containers")),(0,o.kt)("h2",{id:"exposing-behavior"},"Exposing Behavior"),(0,o.kt)("p",null,"By default all non-universal actions are disabled. ",(0,o.kt)("inlineCode",{parentName:"p"},"<p>")," while technically clickable is not typically a clickable element. Unless your ",(0,o.kt)("inlineCode",{parentName:"p"},"<p>")," tag for a Component does handle clicks, then the behavior\nis hidden. To hide them, they are made ",(0,o.kt)("inlineCode",{parentName:"p"},"protected")," by default in\ncomponent."),(0,o.kt)("p",null,"To expose behavior, simply create a public method in your Component\nwith the same name and assign it to your parent copy"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"export class MyComponent extends Component {\n  click = this.click;\n  write = this.write;\n}\n")),(0,o.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Since these are raw class properties, 'this.click' etc. refers\nto the already existing copy. similar to the following line of code"),(0,o.kt)("pre",{parentName:"div"},(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"let x = 1;\nx = x;\n")),(0,o.kt)("p",{parentName:"div"},"If you are wrapping them inside another method, or producing\na getter, you may need to call ",(0,o.kt)("inlineCode",{parentName:"p"},"super")," instead, as at that point ",(0,o.kt)("inlineCode",{parentName:"p"},"this")," has been fully initialized and may cause a stack overflow"))),(0,o.kt)("h2",{id:"semantic-components"},"Semantic Components"),(0,o.kt)("p",null,"By default a number of Semantic Components are provided to represent certain tags, or types. These exist as building\nblocks and references but are likely not enough to model a more sophisticated page."),(0,o.kt)("p",null,"Not every tag currently has a Component, nor is it likely they will."),(0,o.kt)("p",null,"Semantic Components can expose the same underlying behavior of a WebElement under a different name\nif it makes sense to think of their behavior from a different perspective."),(0,o.kt)("p",null,"For example the ",(0,o.kt)("inlineCode",{parentName:"p"},"Option")," (for ",(0,o.kt)("inlineCode",{parentName:"p"},"<option>"),") Component exposes the ",(0,o.kt)("inlineCode",{parentName:"p"},"click()")," behavior as both ",(0,o.kt)("inlineCode",{parentName:"p"},"click")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"choose"),',\nas you may wish to think of your virtual user as "choosing" an option, rather than the technical term of clicking.'),(0,o.kt)("p",null,"Similarly, some Components like those that inherit from ",(0,o.kt)("inlineCode",{parentName:"p"},"Input")," expose attributes as getter properties. All Components\nexpose their attributes through ",(0,o.kt)("inlineCode",{parentName:"p"},"getAttribute"),", but some may choose to highlight them."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title='some test'",title:"'some","test'":!0},"const value = await page.input.value;\n// equivalent of\nconst value = await page.input.getAttribute('value');\n")),(0,o.kt)("p",null,"And likewise Anchor highlights ",(0,o.kt)("inlineCode",{parentName:"p"},"href")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"target"),"."),(0,o.kt)("p",null,"The following is a non exhaustive list of semantic tags available:"),(0,o.kt)("h3",{id:"anchor"},"Anchor"),(0,o.kt)("p",null,"Tag: ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"<a>"))),(0,o.kt)("p",null,"Represents a hyperlink/anchor."),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"Exposes"),":"),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"actions")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"click")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"getText")," ",(0,o.kt)("strong",{parentName:"li"},"as ",(0,o.kt)("em",{parentName:"strong"},(0,o.kt)("inlineCode",{parentName:"em"},"text")))," (getter)")),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"attributes")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"href")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"target"))),(0,o.kt)("hr",null),(0,o.kt)("h3",{id:"button"},"Button"),(0,o.kt)("p",null,"Tag: ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"<button>"))),(0,o.kt)("p",null,"Represents a simple button."),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"actions")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"click")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"getText")," ",(0,o.kt)("strong",{parentName:"li"},"as ",(0,o.kt)("em",{parentName:"strong"},(0,o.kt)("inlineCode",{parentName:"em"},"text")))," (getter)")),(0,o.kt)("hr",null),(0,o.kt)("h3",{id:"image"},"Image"),(0,o.kt)("p",null,"Tag: ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"<img>"))),(0,o.kt)("p",null,"Represents an image"),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"actions")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"click"))),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"attributes")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"src")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"alt"))),(0,o.kt)("h2",{id:"unorderedlist-orderedlist"},"UnorderedList, OrderedList"),(0,o.kt)("p",null,"Tag: ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"<ul>"))),(0,o.kt)("p",null,"Represents an unordered list. Collection of type ",(0,o.kt)("inlineCode",{parentName:"p"},"Collection<ListItem>"),". See ",(0,o.kt)("a",{parentName:"p",href:"collections-containers"},"Collections")),(0,o.kt)("h2",{id:"listitem"},"ListItem"),(0,o.kt)("p",null,"Tag: ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"<li>"))),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"actions")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"getText")," ",(0,o.kt)("strong",{parentName:"li"},"as ",(0,o.kt)("em",{parentName:"strong"},(0,o.kt)("inlineCode",{parentName:"em"},"text")))," (getter)")),(0,o.kt)("h2",{id:"select"},"Select"),(0,o.kt)("p",null,"Tag: ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"<select>"))),(0,o.kt)("p",null,"Collection of type ",(0,o.kt)("inlineCode",{parentName:"p"},"Collection<Option>"),". Allows list-like\naccess to it's inner options"),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"behaviors")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"select(byOrIndex)")," - clicks on the ",(0,o.kt)("inlineCode",{parentName:"li"},"<select>"),", finds the matching ",(0,o.kt)("inlineCode",{parentName:"li"},"<option>")," by ",(0,o.kt)("inlineCode",{parentName:"li"},"By")," locator or numeric index, and clicks on the option.")),(0,o.kt)("h2",{id:"option"},"Option"),(0,o.kt)("p",null,"Tag: ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"<option>"))),(0,o.kt)("p",null,"Simple text type for a form option."),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"exposes")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"click")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"getText")," ",(0,o.kt)("strong",{parentName:"li"},"as ",(0,o.kt)("em",{parentName:"strong"},(0,o.kt)("inlineCode",{parentName:"em"},"text")))," (getter)")),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"attributes")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"value"))))}d.isMDXComponent=!0}}]);