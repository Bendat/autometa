"use strict";(self.webpackChunk_autometa_documentation=self.webpackChunk_autometa_documentation||[]).push([[7247],{4993:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>k});var n=a(2983);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var s=n.createContext({}),p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},u=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},m="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,l=e.mdxType,r=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),m=p(a),c=l,k=m["".concat(s,".").concat(c)]||m[c]||d[c]||r;return a?n.createElement(k,i(i({ref:t},u),{},{components:a})):n.createElement(k,i({ref:t},u))}));function k(e,t){var a=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=a.length,i=new Array(r);i[0]=c;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[m]="string"==typeof e?e:l,i[1]=o;for(var p=2;p<r;p++)i[p]=a[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},3665:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>r,metadata:()=>o,toc:()=>p});var n=a(3050),l=(a(2983),a(4993));const r={sidebar_position:9},i="TestRail Cucumber CLI",o={unversionedId:"reference/testrail-cucumber",id:"reference/testrail-cucumber",title:"TestRail Cucumber CLI",description:"The @autometa/testrail-cucumber package provides a testrail-cucumber command-line tool for planning and syncing Cucumber .feature files to TestRail.",source:"@site/docs/reference/testrail-cucumber.md",sourceDirName:"reference",slug:"/reference/testrail-cucumber",permalink:"/autometa/docs/v1.0.0-rc.5/reference/testrail-cucumber",draft:!1,editUrl:"https://github.com/Bendat/autometa/tree/main/documentation/website/docs/reference/testrail-cucumber.md",tags:[],version:"current",sidebarPosition:9,frontMatter:{sidebar_position:9},sidebar:"reference",previous:{title:"DTO Builder Deep Dive",permalink:"/autometa/docs/v1.0.0-rc.5/reference/dto-builder"},next:{title:"Assertions Reference",permalink:"/autometa/docs/v1.0.0-rc.5/reference/assertions"}},s={},p=[{value:"Install",id:"install",level:2},{value:"Interactive Mode",id:"interactive-mode",level:2},{value:"Quick start",id:"quick-start",level:2},{value:"Sync a directory",id:"sync-a-directory",level:3},{value:"Plan only (no writes)",id:"plan-only-no-writes",level:3},{value:"Authentication",id:"authentication",level:2},{value:"Storing credentials locally",id:"storing-credentials-locally",level:3},{value:"Commands",id:"commands",level:2},{value:"<code>testrail-cucumber login</code>",id:"testrail-cucumber-login",level:3},{value:"<code>testrail-cucumber logout</code>",id:"testrail-cucumber-logout",level:3},{value:"<code>testrail-cucumber set-url</code>",id:"testrail-cucumber-set-url",level:3},{value:"<code>testrail-cucumber set-project</code>",id:"testrail-cucumber-set-project",level:3},{value:"<code>testrail-cucumber set-case-tag-prefix</code>",id:"testrail-cucumber-set-case-tag-prefix",level:3},{value:"<code>testrail-cucumber set-suite-tag-prefix</code>",id:"testrail-cucumber-set-suite-tag-prefix",level:3},{value:"<code>testrail-cucumber set-section-tag-prefix</code>",id:"testrail-cucumber-set-section-tag-prefix",level:3},{value:"<code>testrail-cucumber plan</code>",id:"testrail-cucumber-plan",level:3},{value:"<code>testrail-cucumber sync</code>",id:"testrail-cucumber-sync",level:3},{value:"Multi-suite projects (suite-based)",id:"multi-suite-projects-suite-based",level:2},{value:"Interactive mode and CI",id:"interactive-mode-and-ci",level:2},{value:"Tag writeback",id:"tag-writeback",level:2},{value:"Scenario Outline Handling",id:"scenario-outline-handling",level:2},{value:"Configuration Commands",id:"configuration-commands",level:3},{value:"<code>testrail-cucumber set-outline-is</code>",id:"testrail-cucumber-set-outline-is",level:4},{value:"<code>testrail-cucumber set-example-is</code>",id:"testrail-cucumber-set-example-is",level:4},{value:"<code>testrail-cucumber set-example-case-tag-placement</code>",id:"testrail-cucumber-set-example-case-tag-placement",level:4},{value:"CLI Flags",id:"cli-flags",level:3},{value:"Modes Explained",id:"modes-explained",level:3},{value:"Tag Writeback with Outlines",id:"tag-writeback-with-outlines",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"\u201cProject is multi-suite\u2026 Provide --suite-id or --suite-name\u201d",id:"project-is-multi-suite-provide---suite-id-or---suite-name",level:3},{value:"\u201cCannot prompt in non-interactive environment\u201d",id:"cannot-prompt-in-non-interactive-environment",level:3}],u={toc:p},m="wrapper";function d(e){let{components:t,...a}=e;return(0,l.kt)(m,(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"testrail-cucumber-cli"},"TestRail Cucumber CLI"),(0,l.kt)("p",null,"The ",(0,l.kt)("inlineCode",{parentName:"p"},"@autometa/testrail-cucumber")," package provides a ",(0,l.kt)("inlineCode",{parentName:"p"},"testrail-cucumber")," command-line tool for ",(0,l.kt)("strong",{parentName:"p"},"planning")," and ",(0,l.kt)("strong",{parentName:"p"},"syncing")," Cucumber ",(0,l.kt)("inlineCode",{parentName:"p"},".feature")," files to TestRail."),(0,l.kt)("p",null,"It is designed to be:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Idempotent"),": it uses a stable signature to match scenarios/rules back to existing TestRail cases."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Safe by default"),": it supports dry-run planning and non-interactive operation for CI."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Multi-suite aware"),": it can resolve and tag suites for projects that use TestRail multi-suite mode.")),(0,l.kt)("h2",{id:"install"},"Install"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"pnpm add -D @autometa/testrail-cucumber\n")),(0,l.kt)("h2",{id:"interactive-mode"},"Interactive Mode"),(0,l.kt)("p",null,"For the easiest experience, run ",(0,l.kt)("inlineCode",{parentName:"p"},"testrail-cucumber")," without any command to enter interactive mode:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"testrail-cucumber\n")),(0,l.kt)("p",null,"Interactive mode provides:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"A guided experience that walks you through each step"),(0,l.kt)("li",{parentName:"ul"},"Display of your current login status and configuration"),(0,l.kt)("li",{parentName:"ul"},"Smart prompting that only asks for missing credentials or settings"),(0,l.kt)("li",{parentName:"ul"},"Automatic detection of single vs multi-suite projects (no need to specify!)")),(0,l.kt)("p",null,"All commands documented below remain available for direct CLI usage and automation."),(0,l.kt)("h2",{id:"quick-start"},"Quick start"),(0,l.kt)("h3",{id:"sync-a-directory"},"Sync a directory"),(0,l.kt)("p",null,"Sync all ",(0,l.kt)("inlineCode",{parentName:"p"},".feature")," files under ",(0,l.kt)("inlineCode",{parentName:"p"},"foo/")," into TestRail project ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),":"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'testrail-cucumber sync foo \\\n  --testrail-url https://your.testrail.instance \\\n  --testrail-username you@example.com \\\n  --testrail-password "$TESTRAIL_API_KEY" \\\n  --project-id 1 \\\n  --suite-name "My Suite"\n')),(0,l.kt)("p",null,"Notes:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"If you pass a directory, the CLI expands it to ",(0,l.kt)("inlineCode",{parentName:"li"},"**/*.feature")," under that directory."),(0,l.kt)("li",{parentName:"ul"},"For ",(0,l.kt)("strong",{parentName:"li"},"multi-suite")," projects (",(0,l.kt)("inlineCode",{parentName:"li"},"suite_mode=3"),"), you must provide a suite selector (",(0,l.kt)("inlineCode",{parentName:"li"},"--suite-id"),", ",(0,l.kt)("inlineCode",{parentName:"li"},"--suite-name"),", or ",(0,l.kt)("inlineCode",{parentName:"li"},"--default-suite-name"),").")),(0,l.kt)("h3",{id:"plan-only-no-writes"},"Plan only (no writes)"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'testrail-cucumber plan foo \\\n  --project-id 1 \\\n  --suite-name "My Suite" \\\n  --testrail-url https://your.testrail.instance \\\n  --testrail-username you@example.com \\\n  --testrail-password "$TESTRAIL_API_KEY"\n')),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"plan")," prints what would happen and does not mutate TestRail."),(0,l.kt)("h2",{id:"authentication"},"Authentication"),(0,l.kt)("p",null,"You can provide credentials via flags, environment variables, or stored credentials:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"--testrail-url")," or ",(0,l.kt)("inlineCode",{parentName:"li"},"TESTRAIL_URL")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"--testrail-username")," or ",(0,l.kt)("inlineCode",{parentName:"li"},"TESTRAIL_USERNAME")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"--testrail-password")," or ",(0,l.kt)("inlineCode",{parentName:"li"},"TESTRAIL_PASSWORD")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"--project-id")," or ",(0,l.kt)("inlineCode",{parentName:"li"},"TESTRAIL_PROJECT_ID"))),(0,l.kt)("h3",{id:"storing-credentials-locally"},"Storing credentials locally"),(0,l.kt)("p",null,"For convenience you can save credentials once and skip the flags on subsequent runs:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"testrail-cucumber login\n")),(0,l.kt)("p",null,"This prompts for URL, username, password, and an optional default project ID, then stores them securely in your home directory:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"macOS / Linux"),": ",(0,l.kt)("inlineCode",{parentName:"li"},"~/.config/autometa/testrail-credentials.json")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Windows"),": ",(0,l.kt)("inlineCode",{parentName:"li"},"%APPDATA%\\autometa\\testrail-credentials.json"))),(0,l.kt)("p",null,"The file is created with mode ",(0,l.kt)("inlineCode",{parentName:"p"},"0600")," (owner read/write only)."),(0,l.kt)("p",null,"Once logged in, commands like ",(0,l.kt)("inlineCode",{parentName:"p"},"sync")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"plan")," will use the stored credentials automatically when you omit the CLI flags."),(0,l.kt)("p",null,"To remove stored credentials:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"testrail-cucumber logout\n")),(0,l.kt)("h2",{id:"commands"},"Commands"),(0,l.kt)("h3",{id:"testrail-cucumber-login"},(0,l.kt)("inlineCode",{parentName:"h3"},"testrail-cucumber login")),(0,l.kt)("p",null,"Stores TestRail credentials securely on your device."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"testrail-cucumber login [options]\n")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Option"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--testrail-url <url>")),(0,l.kt)("td",{parentName:"tr",align:null},"TestRail URL (or omit to prompt)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--testrail-username <username>")),(0,l.kt)("td",{parentName:"tr",align:null},"Username (or omit to prompt)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--testrail-password <password>")),(0,l.kt)("td",{parentName:"tr",align:null},"Password / API key (or omit to prompt)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--project-id <id>")),(0,l.kt)("td",{parentName:"tr",align:null},"Default project ID (optional)")))),(0,l.kt)("h3",{id:"testrail-cucumber-logout"},(0,l.kt)("inlineCode",{parentName:"h3"},"testrail-cucumber logout")),(0,l.kt)("p",null,"Removes stored credentials from your device."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"testrail-cucumber logout\n")),(0,l.kt)("h3",{id:"testrail-cucumber-set-url"},(0,l.kt)("inlineCode",{parentName:"h3"},"testrail-cucumber set-url")),(0,l.kt)("p",null,"Updates the stored TestRail URL without re-entering credentials."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"testrail-cucumber set-url <url>\n")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Argument"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"<url>")),(0,l.kt)("td",{parentName:"tr",align:null},"New TestRail base URL (e.g. ",(0,l.kt)("inlineCode",{parentName:"td"},"https://testrail.example.com"),")")))),(0,l.kt)("h3",{id:"testrail-cucumber-set-project"},(0,l.kt)("inlineCode",{parentName:"h3"},"testrail-cucumber set-project")),(0,l.kt)("p",null,"Updates the stored default project ID without re-entering credentials."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"testrail-cucumber set-project <id>\n")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Argument"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"<id>")),(0,l.kt)("td",{parentName:"tr",align:null},"Default TestRail project ID (number)")))),(0,l.kt)("h3",{id:"testrail-cucumber-set-case-tag-prefix"},(0,l.kt)("inlineCode",{parentName:"h3"},"testrail-cucumber set-case-tag-prefix")),(0,l.kt)("p",null,"Updates the stored case tag prefix for tag writeback."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"testrail-cucumber set-case-tag-prefix <prefix>\n")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Argument"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"<prefix>")),(0,l.kt)("td",{parentName:"tr",align:null},"Case ID tag prefix (e.g. ",(0,l.kt)("inlineCode",{parentName:"td"},"@testrail-case-")," or ",(0,l.kt)("inlineCode",{parentName:"td"},"@C"),")")))),(0,l.kt)("h3",{id:"testrail-cucumber-set-suite-tag-prefix"},(0,l.kt)("inlineCode",{parentName:"h3"},"testrail-cucumber set-suite-tag-prefix")),(0,l.kt)("p",null,"Updates the stored suite tag prefix for tag writeback."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"testrail-cucumber set-suite-tag-prefix <prefix>\n")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Argument"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"<prefix>")),(0,l.kt)("td",{parentName:"tr",align:null},"Suite ID tag prefix (e.g. ",(0,l.kt)("inlineCode",{parentName:"td"},"@testrail-suite-")," or ",(0,l.kt)("inlineCode",{parentName:"td"},"@S"),")")))),(0,l.kt)("h3",{id:"testrail-cucumber-set-section-tag-prefix"},(0,l.kt)("inlineCode",{parentName:"h3"},"testrail-cucumber set-section-tag-prefix")),(0,l.kt)("p",null,"Updates the stored section tag prefix for tag writeback."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"testrail-cucumber set-section-tag-prefix <prefix>\n")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Argument"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"<prefix>")),(0,l.kt)("td",{parentName:"tr",align:null},"Section ID tag prefix (e.g. ",(0,l.kt)("inlineCode",{parentName:"td"},"@testrail-section-")," or ",(0,l.kt)("inlineCode",{parentName:"td"},"@SEC"),")")))),(0,l.kt)("p",null,"Once these prefixes are set, they will be used automatically when syncing with ",(0,l.kt)("inlineCode",{parentName:"p"},"--write-tags"),". You can still override them per-sync using the corresponding CLI flags (",(0,l.kt)("inlineCode",{parentName:"p"},"--case-tag-prefix"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"--suite-tag-prefix"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"--section-tag-prefix"),")."),(0,l.kt)("h3",{id:"testrail-cucumber-plan"},(0,l.kt)("inlineCode",{parentName:"h3"},"testrail-cucumber plan")),(0,l.kt)("p",null,"Plans how feature files would map to TestRail cases."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"testrail-cucumber plan <patterns...> [options]\n")),(0,l.kt)("p",null,"Common options:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Option"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--existing-cases <path>")),(0,l.kt)("td",{parentName:"tr",align:null},"Provide a JSON file with ",(0,l.kt)("inlineCode",{parentName:"td"},"ExistingCase[]")," to match against (optional).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--duplicate-policy <policy>")),(0,l.kt)("td",{parentName:"tr",align:null},"How to handle ambiguous matches: ",(0,l.kt)("inlineCode",{parentName:"td"},"error\\|skip\\|create-new\\|prompt"),". Defaults to ",(0,l.kt)("inlineCode",{parentName:"td"},"prompt")," in TTY, otherwise ",(0,l.kt)("inlineCode",{parentName:"td"},"error"),".")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--interactive")," / ",(0,l.kt)("inlineCode",{parentName:"td"},"--no-interactive")),(0,l.kt)("td",{parentName:"tr",align:null},"Enable/disable interactive prompts. Default: enabled.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--force-prompt")),(0,l.kt)("td",{parentName:"tr",align:null},"Allow prompting even with large candidate sets (unsafe).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--max-prompt-candidates <n>")),(0,l.kt)("td",{parentName:"tr",align:null},"Max candidates to show when prompting (default: 10).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--suite-id <id>")),(0,l.kt)("td",{parentName:"tr",align:null},"Select suite by id (multi-suite projects).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--suite-name <name>")),(0,l.kt)("td",{parentName:"tr",align:null},"Select suite by name (multi-suite projects; may be created if allowed).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--default-suite-name <name>")),(0,l.kt)("td",{parentName:"tr",align:null},"Fallback suite name (multi-suite projects; may be created if allowed).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--create-missing-suite")),(0,l.kt)("td",{parentName:"tr",align:null},"Allow creating suites when resolving by name (defaults to ",(0,l.kt)("inlineCode",{parentName:"td"},"false")," for ",(0,l.kt)("inlineCode",{parentName:"td"},"plan"),").")))),(0,l.kt)("h3",{id:"testrail-cucumber-sync"},(0,l.kt)("inlineCode",{parentName:"h3"},"testrail-cucumber sync")),(0,l.kt)("p",null,"Syncs feature files to TestRail (create/update cases), optionally writing tags back into ",(0,l.kt)("inlineCode",{parentName:"p"},".feature")," files."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"testrail-cucumber sync <patterns...> [options]\n")),(0,l.kt)("p",null,"Common options:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Option"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--dry-run")),(0,l.kt)("td",{parentName:"tr",align:null},"Do not mutate TestRail; print plan only.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--update-existing")),(0,l.kt)("td",{parentName:"tr",align:null},"Update existing cases (title/description/steps).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--duplicate-policy <policy>")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"error\\|skip\\|create-new\\|prompt")," (default: prompt in TTY, else error).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--interactive")," / ",(0,l.kt)("inlineCode",{parentName:"td"},"--no-interactive")),(0,l.kt)("td",{parentName:"tr",align:null},"Enable/disable interactive prompts.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--write-tags")),(0,l.kt)("td",{parentName:"tr",align:null},"Write case id tags (and suite tag in multi-suite mode) back into feature files.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--write-tags-on-dry-run")),(0,l.kt)("td",{parentName:"tr",align:null},"When ",(0,l.kt)("inlineCode",{parentName:"td"},"--dry-run"),", still write tags back to feature files.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--case-tag-prefix <prefix>")),(0,l.kt)("td",{parentName:"tr",align:null},"Case id tag prefix (default: ",(0,l.kt)("inlineCode",{parentName:"td"},"@testrail-case-"),").")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--suite-tag-prefix <prefix>")),(0,l.kt)("td",{parentName:"tr",align:null},"Suite id tag prefix (default: ",(0,l.kt)("inlineCode",{parentName:"td"},"@testrail-suite-"),").")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--suite-id <id>")," / ",(0,l.kt)("inlineCode",{parentName:"td"},"--suite-name <name>")),(0,l.kt)("td",{parentName:"tr",align:null},"Required for multi-suite projects.")))),(0,l.kt)("h2",{id:"multi-suite-projects-suite-based"},"Multi-suite projects (suite-based)"),(0,l.kt)("p",null,"The CLI checks ",(0,l.kt)("inlineCode",{parentName:"p"},"suite_mode")," for your project:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"If the project is ",(0,l.kt)("strong",{parentName:"li"},"single-suite")," (",(0,l.kt)("inlineCode",{parentName:"li"},"suite_mode != 3"),"), any ",(0,l.kt)("inlineCode",{parentName:"li"},"--suite-*")," flags are ignored."),(0,l.kt)("li",{parentName:"ul"},"If the project is ",(0,l.kt)("strong",{parentName:"li"},"multi-suite")," (",(0,l.kt)("inlineCode",{parentName:"li"},"suite_mode = 3"),"), you must provide one of:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"--suite-id <id>")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"--suite-name <name>")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"--default-suite-name <name>"))))),(0,l.kt)("p",null,"When in multi-suite mode, the tool also prints and can write a suite tag like:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"@testrail-suite-<suiteId>"))),(0,l.kt)("p",null,"This is used for traceability and writeback."),(0,l.kt)("h2",{id:"interactive-mode-and-ci"},"Interactive mode and CI"),(0,l.kt)("p",null,"When ",(0,l.kt)("inlineCode",{parentName:"p"},"--duplicate-policy prompt")," is used, the CLI may ask you to choose between candidates."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"In a TTY, the default is ",(0,l.kt)("inlineCode",{parentName:"li"},"prompt"),"."),(0,l.kt)("li",{parentName:"ul"},"In a non-interactive environment (CI), the default becomes ",(0,l.kt)("inlineCode",{parentName:"li"},"error"),".")),(0,l.kt)("p",null,"To make behaviour deterministic in CI, use:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"testrail-cucumber sync foo \\\n  --project-id 1 \\\n  --suite-id 123 \\\n  --no-interactive \\\n  --duplicate-policy error\n")),(0,l.kt)("h2",{id:"tag-writeback"},"Tag writeback"),(0,l.kt)("p",null,"After a successful sync, you can write tags into your ",(0,l.kt)("inlineCode",{parentName:"p"},".feature")," files:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'testrail-cucumber sync foo \\\n  --project-id 1 \\\n  --suite-name "My Suite" \\\n  --write-tags\n')),(0,l.kt)("p",null,"You can also run a ",(0,l.kt)("strong",{parentName:"p"},"tag-only")," workflow by combining ",(0,l.kt)("inlineCode",{parentName:"p"},"--dry-run")," with writeback:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'testrail-cucumber sync foo \\\n  --project-id 1 \\\n  --suite-name "My Suite" \\\n  --dry-run \\\n  --write-tags \\\n  --write-tags-on-dry-run\n')),(0,l.kt)("h2",{id:"scenario-outline-handling"},"Scenario Outline Handling"),(0,l.kt)("p",null,"By default, each Scenario Outline becomes a single test case in TestRail. You can change this behaviour to create sections and individual test cases per data row."),(0,l.kt)("h3",{id:"configuration-commands"},"Configuration Commands"),(0,l.kt)("h4",{id:"testrail-cucumber-set-outline-is"},(0,l.kt)("inlineCode",{parentName:"h4"},"testrail-cucumber set-outline-is")),(0,l.kt)("p",null,"Sets how Scenario Outlines are treated:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"testrail-cucumber set-outline-is <mode>\n")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Argument"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"<mode>")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"case")," (default) or ",(0,l.kt)("inlineCode",{parentName:"td"},"section"))))),(0,l.kt)("h4",{id:"testrail-cucumber-set-example-is"},(0,l.kt)("inlineCode",{parentName:"h4"},"testrail-cucumber set-example-is")),(0,l.kt)("p",null,"Sets how Examples tables are treated (only applies when ",(0,l.kt)("inlineCode",{parentName:"p"},"outline-is")," is ",(0,l.kt)("inlineCode",{parentName:"p"},"section"),"):"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"testrail-cucumber set-example-is <mode>\n")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Argument"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"<mode>")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"case")," (default) or ",(0,l.kt)("inlineCode",{parentName:"td"},"section"))))),(0,l.kt)("h4",{id:"testrail-cucumber-set-example-case-tag-placement"},(0,l.kt)("inlineCode",{parentName:"h4"},"testrail-cucumber set-example-case-tag-placement")),(0,l.kt)("p",null,"Sets where case tags are placed when writing back to feature files (only applies when ",(0,l.kt)("inlineCode",{parentName:"p"},"outline-is")," is ",(0,l.kt)("inlineCode",{parentName:"p"},"section")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"example-is")," is ",(0,l.kt)("inlineCode",{parentName:"p"},"section"),"):"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"testrail-cucumber set-example-case-tag-placement <placement>\n")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Argument"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"<placement>")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"above")," (default) - tags above the Examples line, or ",(0,l.kt)("inlineCode",{parentName:"td"},"inline")," - tags in a table column")))),(0,l.kt)("h3",{id:"cli-flags"},"CLI Flags"),(0,l.kt)("p",null,"You can also use flags per-sync:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Option"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--outline-is <mode>")),(0,l.kt)("td",{parentName:"tr",align:null},"How to treat Scenario Outlines: ",(0,l.kt)("inlineCode",{parentName:"td"},"case")," or ",(0,l.kt)("inlineCode",{parentName:"td"},"section"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--example-is <mode>")),(0,l.kt)("td",{parentName:"tr",align:null},"How to treat Examples tables: ",(0,l.kt)("inlineCode",{parentName:"td"},"case")," or ",(0,l.kt)("inlineCode",{parentName:"td"},"section"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"--example-case-tag-placement <placement>")),(0,l.kt)("td",{parentName:"tr",align:null},"Where to place row case tags: ",(0,l.kt)("inlineCode",{parentName:"td"},"above")," or ",(0,l.kt)("inlineCode",{parentName:"td"},"inline"))))),(0,l.kt)("h3",{id:"modes-explained"},"Modes Explained"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"th"},"--outline-is")),(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"th"},"--example-is")),(0,l.kt)("th",{parentName:"tr",align:null},"TestRail Structure"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"case")," (default)"),(0,l.kt)("td",{parentName:"tr",align:null},"n/a"),(0,l.kt)("td",{parentName:"tr",align:null},"One test case per Scenario Outline template")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"section")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"case")),(0,l.kt)("td",{parentName:"tr",align:null},"Outline \u2192 Section, all data rows \u2192 Cases directly under that section")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"section")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"section")),(0,l.kt)("td",{parentName:"tr",align:null},"Outline \u2192 Section, each Examples table \u2192 Subsection, rows \u2192 Cases")))),(0,l.kt)("h3",{id:"tag-writeback-with-outlines"},"Tag Writeback with Outlines"),(0,l.kt)("p",null,"When using ",(0,l.kt)("inlineCode",{parentName:"p"},"--outline-is section")," with ",(0,l.kt)("inlineCode",{parentName:"p"},"--write-tags"),":"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"If ",(0,l.kt)("inlineCode",{parentName:"strong"},"--example-is case"))," (rows flattened under outline section):"),(0,l.kt)("p",null,"Row case tags are written above the Scenario Outline line, in row order:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-gherkin"},"@testrail-case-101 @testrail-case-102 @testrail-case-103 @testrail-case-104\n@testrail-section-500\nScenario Outline: my outline\n  Given I do something with <param>\n\n  Examples:\n    | param  |\n    | value1 |\n    | value2 |\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"If ",(0,l.kt)("inlineCode",{parentName:"strong"},"--example-is section"))," (Examples as subsections):"),(0,l.kt)("p",null,"Tag placement depends on ",(0,l.kt)("inlineCode",{parentName:"p"},"--example-case-tag-placement"),":"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"With ",(0,l.kt)("inlineCode",{parentName:"strong"},"--example-case-tag-placement above"))," (default):"),(0,l.kt)("p",null,"Case tags go above the Examples line:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-gherkin"},"@testrail-section-500\nScenario Outline: my outline\n  Given I do something with <param>\n\n  @testrail-case-101 @testrail-case-102 @testrail-section-501\n  Examples:\n    | param  |\n    | value1 |\n    | value2 |\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"With ",(0,l.kt)("inlineCode",{parentName:"strong"},"--example-case-tag-placement inline")),":"),(0,l.kt)("p",null,"Case tags are added as a new table column:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-gherkin"},"@testrail-section-500\nScenario Outline: my outline\n  Given I do something with <param>\n\n  @testrail-section-501\n  Examples:\n    | param  | testrail case         |\n    | value1 | @testrail-case-101 |\n    | value2 | @testrail-case-102 |\n")),(0,l.kt)("h2",{id:"troubleshooting"},"Troubleshooting"),(0,l.kt)("h3",{id:"project-is-multi-suite-provide---suite-id-or---suite-name"},"\u201cProject is multi-suite\u2026 Provide --suite-id or --suite-name\u201d"),(0,l.kt)("p",null,"Your TestRail project is using multi-suite mode (",(0,l.kt)("inlineCode",{parentName:"p"},"suite_mode=3"),"). Provide a suite selector."),(0,l.kt)("h3",{id:"cannot-prompt-in-non-interactive-environment"},"\u201cCannot prompt in non-interactive environment\u201d"),(0,l.kt)("p",null,"You hit a prompt-only flow without a TTY. Either:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"run in a terminal (TTY), or"),(0,l.kt)("li",{parentName:"ul"},"set ",(0,l.kt)("inlineCode",{parentName:"li"},"--no-interactive --duplicate-policy error"),", or"),(0,l.kt)("li",{parentName:"ul"},"choose a non-prompt duplicate policy (",(0,l.kt)("inlineCode",{parentName:"li"},"skip")," / ",(0,l.kt)("inlineCode",{parentName:"li"},"create-new"),").")))}d.isMDXComponent=!0}}]);